### New MR
POST http://localhost:5000/gitlab-webhook
Content-Type: application/json

{"object_kind":"merge_request","event_type":"merge_request","user":{"name":"user-a","username":"user-a","avatar_url":"https://assets.gitlab-static.net/uploads/-/system/user/avatar/1111111/avatar.png","email":"a@wegift.test"},"project":{"id":19326123,"name":"Test Repo","description":"","web_url":"https://gitlab.com/wegift/test-repo","avatar_url":null,"git_ssh_url":"git@gitlab.com:wegift/test-repo.git","git_http_url":"https://gitlab.com/wegift/test-repo.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/test-repo","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/test-repo","url":"git@gitlab.com:wegift/test-repo.git","ssh_url":"git@gitlab.com:wegift/test-repo.git","http_url":"https://gitlab.com/wegift/test-repo.git"},"object_attributes":{"assignee_id":null,"author_id":1111111,"created_at":"2020-06-11 16:17:37 UTC","description":"","head_pipeline_id":null,"id":61285123,"iid":2,"last_edited_at":null,"last_edited_by_id":null,"merge_commit_sha":null,"merge_error":null,"merge_params":{"force_remove_source_branch":"1"},"merge_status":"unchecked","merge_user_id":null,"merge_when_pipeline_succeeds":false,"milestone_id":null,"source_branch":"ch3984/test2","source_project_id":19326123,"state_id":1,"target_branch":"master","target_project_id":19326123,"time_estimate":0,"title":"Update test.txt","updated_at":"2020-06-11 16:17:37 UTC","updated_by_id":null,"url":"https://gitlab.com/wegift/test-repo/-/merge_requests/2","source":{"id":19326123,"name":"Test Repo","description":"","web_url":"https://gitlab.com/wegift/test-repo","avatar_url":null,"git_ssh_url":"git@gitlab.com:wegift/test-repo.git","git_http_url":"https://gitlab.com/wegift/test-repo.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/test-repo","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/test-repo","url":"git@gitlab.com:wegift/test-repo.git","ssh_url":"git@gitlab.com:wegift/test-repo.git","http_url":"https://gitlab.com/wegift/test-repo.git"},"target":{"id":19326123,"name":"Test Repo","description":"","web_url":"https://gitlab.com/wegift/test-repo","avatar_url":null,"git_ssh_url":"git@gitlab.com:wegift/test-repo.git","git_http_url":"https://gitlab.com/wegift/test-repo.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/test-repo","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/test-repo","url":"git@gitlab.com:wegift/test-repo.git","ssh_url":"git@gitlab.com:wegift/test-repo.git","http_url":"https://gitlab.com/wegift/test-repo.git"},"last_commit":{"id":"23c082231d9e996655d415b592a643abd6e5ce84","message":"Update test.txt","title":"Update test.txt","timestamp":"2020-06-11T16:17:32+00:00","url":"https://gitlab.com/wegift/test-repo/-/commit/23c082231d9e996655d415b592a643abd6e5ce84","author":{"name":"user-a","email":"a@wegift.test"}},"work_in_progress":false,"total_time_spent":0,"human_total_time_spent":null,"human_time_estimate":null,"assignee_ids":[],"state":"opened","action":"open"},"labels":[],"changes":{"author_id":{"previous":null,"current":1111111},"created_at":{"previous":null,"current":"2020-06-11 16:17:37 UTC"},"description":{"previous":null,"current":""},"id":{"previous":null,"current":61285123},"iid":{"previous":null,"current":2},"merge_params":{"previous":{},"current":{"force_remove_source_branch":"1"}},"source_branch":{"previous":null,"current":"ch3984/test2"},"source_project_id":{"previous":null,"current":19326123},"target_branch":{"previous":null,"current":"master"},"target_project_id":{"previous":null,"current":19326123},"title":{"previous":null,"current":"Update test.txt"},"updated_at":{"previous":null,"current":"2020-06-11 16:17:37 UTC"},"total_time_spent":{"previous":null,"current":0}},"repository":{"name":"Test Repo","url":"git@gitlab.com:wegift/test-repo.git","description":"","homepage":"https://gitlab.com/wegift/test-repo"}}

### MR Approve
POST http://localhost:5000/gitlab-webhook
Content-Type: application/json

{"object_kind":"merge_request","event_type":"merge_request","user":{"name":"Clubhouse Bot","username":"user-a","avatar_url":"https://assets.gitlab-static.net/uploads/-/system/user/avatar/1111111/avatar.png","email":"will+clubhouse@wegift.test"},"project":{"id":19326123,"name":"Test Repo","description":"","web_url":"https://gitlab.com/wegift/test-repo","avatar_url":null,"git_ssh_url":"git@gitlab.com:wegift/test-repo.git","git_http_url":"https://gitlab.com/wegift/test-repo.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/test-repo","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/test-repo","url":"git@gitlab.com:wegift/test-repo.git","ssh_url":"git@gitlab.com:wegift/test-repo.git","http_url":"https://gitlab.com/wegift/test-repo.git"},"object_attributes":{"assignee_id":null,"author_id":1111111,"created_at":"2020-06-11 16:17:37 UTC","description":"","head_pipeline_id":null,"id":61285123,"iid":2,"last_edited_at":null,"last_edited_by_id":null,"merge_commit_sha":null,"merge_error":null,"merge_params":{"force_remove_source_branch":"1"},"merge_status":"can_be_merged","merge_user_id":null,"merge_when_pipeline_succeeds":false,"milestone_id":null,"source_branch":"ch3984/test2","source_project_id":19326123,"state_id":1,"target_branch":"master","target_project_id":19326123,"time_estimate":0,"title":"Update test.txt","updated_at":"2020-06-11 16:18:39 UTC","updated_by_id":null,"url":"https://gitlab.com/wegift/test-repo/-/merge_requests/2","source":{"id":19326123,"name":"Test Repo","description":"","web_url":"https://gitlab.com/wegift/test-repo","avatar_url":null,"git_ssh_url":"git@gitlab.com:wegift/test-repo.git","git_http_url":"https://gitlab.com/wegift/test-repo.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/test-repo","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/test-repo","url":"git@gitlab.com:wegift/test-repo.git","ssh_url":"git@gitlab.com:wegift/test-repo.git","http_url":"https://gitlab.com/wegift/test-repo.git"},"target":{"id":19326123,"name":"Test Repo","description":"","web_url":"https://gitlab.com/wegift/test-repo","avatar_url":null,"git_ssh_url":"git@gitlab.com:wegift/test-repo.git","git_http_url":"https://gitlab.com/wegift/test-repo.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/test-repo","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/test-repo","url":"git@gitlab.com:wegift/test-repo.git","ssh_url":"git@gitlab.com:wegift/test-repo.git","http_url":"https://gitlab.com/wegift/test-repo.git"},"last_commit":{"id":"23c082231d9e996655d415b592a643abd6e5ce84","message":"Update test.txt","title":"Update test.txt","timestamp":"2020-06-11T16:17:32+00:00","url":"https://gitlab.com/wegift/test-repo/-/commit/23c082231d9e996655d415b592a643abd6e5ce84","author":{"name":"user-a","email":"a@wegift.test"}},"work_in_progress":false,"total_time_spent":0,"human_total_time_spent":null,"human_time_estimate":null,"assignee_ids":[],"state":"opened","action":"approved"},"labels":[],"changes":{"updated_at":{"previous":"2020-06-11 16:17:37 UTC","current":"2020-06-11 16:18:39 UTC"},"total_time_spent":{"previous":null,"current":0}},"repository":{"name":"Test Repo","url":"git@gitlab.com:wegift/test-repo.git","description":"","homepage":"https://gitlab.com/wegift/test-repo"}}

### MR Approval
POST http://localhost:5000/gitlab-webhook
Content-Type: application/json

{"object_kind":"merge_request","event_type":"merge_request","user":{"name":"User D","username":"ar-wegift","avatar_url":"https://secure.gravatar.com/avatar/aabb?s=80\u0026d=identicon","email":"user-d@wegift.test"},"project":{"id":14982123,"name":"repo-s","description":"Get gifty","web_url":"https://gitlab.com/wegift/repo-s","avatar_url":"https://gitlab.com/uploads/-/system/project/avatar/14982123/repo-s.png","git_ssh_url":"git@gitlab.com:wegift/repo-s.git","git_http_url":"https://gitlab.com/wegift/repo-s.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/repo-s","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/repo-s","url":"git@gitlab.com:wegift/repo-s.git","ssh_url":"git@gitlab.com:wegift/repo-s.git","http_url":"https://gitlab.com/wegift/repo-s.git"},"object_attributes":{"assignee_id":38913,"author_id":38913,"created_at":"2020-06-15 13:40:51 UTC","description":"Test","head_pipeline_id":156374312,"id":61531412,"iid":642,"last_edited_at":"2020-06-15 14:47:52 UTC","last_edited_by_id":38913,"merge_commit_sha":null,"merge_error":null,"merge_params":{"force_remove_source_branch":"1"},"merge_status":"can_be_merged","merge_user_id":null,"merge_when_pipeline_succeeds":false,"milestone_id":null,"source_branch":"ch4023/gitlabci_changes_run_pytest_integration_tests","source_project_id":14982123,"state_id":1,"target_branch":"master","target_project_id":14982123,"time_estimate":0,"title":"Added pytest-integration to run pytests integration tests (--long) in master or schedule","updated_at":"2020-06-15 15:20:37 UTC","updated_by_id":38913,"url":"https://gitlab.com/wegift/repo-s/-/merge_requests/642","source":{"id":14982123,"name":"repo-s","description":"Get gifty","web_url":"https://gitlab.com/wegift/repo-s","avatar_url":"https://gitlab.com/uploads/-/system/project/avatar/14982123/repo-s.png","git_ssh_url":"git@gitlab.com:wegift/repo-s.git","git_http_url":"https://gitlab.com/wegift/repo-s.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/repo-s","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/repo-s","url":"git@gitlab.com:wegift/repo-s.git","ssh_url":"git@gitlab.com:wegift/repo-s.git","http_url":"https://gitlab.com/wegift/repo-s.git"},"target":{"id":14982123,"name":"repo-s","description":"Get gifty","web_url":"https://gitlab.com/wegift/repo-s","avatar_url":"https://gitlab.com/uploads/-/system/project/avatar/14982123/repo-s.png","git_ssh_url":"git@gitlab.com:wegift/repo-s.git","git_http_url":"https://gitlab.com/wegift/repo-s.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/repo-s","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/repo-s","url":"git@gitlab.com:wegift/repo-s.git","ssh_url":"git@gitlab.com:wegift/repo-s.git","http_url":"https://gitlab.com/wegift/repo-s.git"},"last_commit":{"id":"edfa4860fbe93352886edb12036d16cf8cd54dce","message":"Added pytest-integration to run pytests integration tests (--long) in\nmaster or schedule\n","title":"Added pytest-integration to run pytests integration tests (--long) in","timestamp":"2020-06-15T15:24:55+01:00","url":"https://gitlab.com/wegift/repo-s/-/commit/edfa4860fbe93352886edb12036d16cf8cd54dce","author":{"name":"User D","email":"user-d@wegift.test"}},"work_in_progress":false,"total_time_spent":0,"human_total_time_spent":null,"human_time_estimate":null,"assignee_ids":[38913,3333333,4788056,1111111],"state":"opened","action":"approval"},"labels":[],"changes":{"updated_at":{"previous":"2020-06-15 14:47:52 UTC","current":"2020-06-15 15:20:37 UTC"},"assignees":{"previous":[],"current":[{"name":"User D","username":"user-d","avatar_url":"https://secure.gravatar.com/avatar/aabb?s=80\u0026d=identicon","email":"user-d@wegift.test"},{"name":"User C","username":"user-c","avatar_url":"https://assets.gitlab-static.net/uploads/-/system/user/avatar/3333333/avatar.png","email":"user-c@wegift.test"},{"name":"User D","username":"ar-wegift","avatar_url":"https://secure.gravatar.com/avatar/aabb?s=80\u0026d=identicon","email":"user-d@wegift.test"},{"name":"user-a","username":"user-a","avatar_url":"https://assets.gitlab-static.net/uploads/-/system/user/avatar/1111111/avatar.png","email":"a@wegift.test"}]},"total_time_spent":{"previous":null,"current":0}},"repository":{"name":"repo-s","url":"git@gitlab.com:wegift/repo-s.git","description":"Get gifty","homepage":"https://gitlab.com/wegift/repo-s"},"assignees":[{"name":"User D","username":"user-d","avatar_url":"https://secure.gravatar.com/avatar/aabb?s=80\u0026d=identicon","email":"user-d@wegift.test"},{"name":"User C","username":"user-c","avatar_url":"https://assets.gitlab-static.net/uploads/-/system/user/avatar/3333333/avatar.png","email":"user-c@wegift.test"},{"name":"User D","username":"ar-wegift","avatar_url":"https://secure.gravatar.com/avatar/aabb?s=80\u0026d=identicon","email":"user-d@wegift.test"},{"name":"user-a","username":"user-a","avatar_url":"https://assets.gitlab-static.net/uploads/-/system/user/avatar/1111111/avatar.png","email":"a@wegift.test"}]}

### MR Update
POST http://localhost:5000/gitlab-webhook
Content-Type: application/json

{"object_kind":"merge_request","event_type":"merge_request","user":{"name":"User F","username":"user.f","avatar_url":"https://secure.gravatar.com/avatar/aabb?s=80\u0026d=identicon","email":"user.f@wegift.test"},"project":{"id":14982123,"name":"repo-s","description":"Get gifty","web_url":"https://gitlab.com/wegift/repo-s","avatar_url":"https://gitlab.com/uploads/-/system/project/avatar/14982123/repo-s.png","git_ssh_url":"git@gitlab.com:wegift/repo-s.git","git_http_url":"https://gitlab.com/wegift/repo-s.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/repo-s","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/repo-s","url":"git@gitlab.com:wegift/repo-s.git","ssh_url":"git@gitlab.com:wegift/repo-s.git","http_url":"https://gitlab.com/wegift/repo-s.git"},"object_attributes":{"assignee_id":null,"author_id":5210123,"created_at":"2020-06-15 12:56:49 UTC","description":"","head_pipeline_id":156344123,"id":61516123,"iid":641,"last_edited_at":"2020-06-15 12:56:57 UTC","last_edited_by_id":5210123,"merge_commit_sha":null,"merge_error":null,"merge_params":{"force_remove_source_branch":"1"},"merge_status":"unchecked","merge_user_id":null,"merge_when_pipeline_succeeds":false,"milestone_id":null,"source_branch":"ch3602/redeem-templates","source_project_id":14982123,"state_id":1,"target_branch":"master","target_project_id":14982123,"time_estimate":0,"title":"WIP: Align design of redemption template to look \u0026 feel of wegift.io","updated_at":"2020-06-15 16:56:55 UTC","updated_by_id":5210123,"url":"https://gitlab.com/wegift/repo-s/-/merge_requests/641","source":{"id":14982123,"name":"repo-s","description":"Get gifty","web_url":"https://gitlab.com/wegift/repo-s","avatar_url":"https://gitlab.com/uploads/-/system/project/avatar/14982123/repo-s.png","git_ssh_url":"git@gitlab.com:wegift/repo-s.git","git_http_url":"https://gitlab.com/wegift/repo-s.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/repo-s","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/repo-s","url":"git@gitlab.com:wegift/repo-s.git","ssh_url":"git@gitlab.com:wegift/repo-s.git","http_url":"https://gitlab.com/wegift/repo-s.git"},"target":{"id":14982123,"name":"repo-s","description":"Get gifty","web_url":"https://gitlab.com/wegift/repo-s","avatar_url":"https://gitlab.com/uploads/-/system/project/avatar/14982123/repo-s.png","git_ssh_url":"git@gitlab.com:wegift/repo-s.git","git_http_url":"https://gitlab.com/wegift/repo-s.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/repo-s","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/repo-s","url":"git@gitlab.com:wegift/repo-s.git","ssh_url":"git@gitlab.com:wegift/repo-s.git","http_url":"https://gitlab.com/wegift/repo-s.git"},"last_commit":{"id":"05d1c39f637dc542ffe24ae1be524796c920459d","message":"Add back of card integration\n","title":"Add back of card integration","timestamp":"2020-06-15T17:56:45+01:00","url":"https://gitlab.com/wegift/repo-s/-/commit/05d1c39f637dc542ffe24ae1be524796c920459d","author":{"name":"User F","email":"user.f@wegift.test"}},"work_in_progress":true,"total_time_spent":0,"human_total_time_spent":null,"human_time_estimate":null,"assignee_ids":[],"state":"opened","action":"update","oldrev":"a2dd544178fbbf29d5f535c4ebd5ae586d38d351"},"labels":[],"changes":{"updated_at":{"previous":"2020-06-15 13:19:50 UTC","current":"2020-06-15 16:56:55 UTC"},"total_time_spent":{"previous":null,"current":0}},"repository":{"name":"repo-s","url":"git@gitlab.com:wegift/repo-s.git","description":"Get gifty","homepage":"https://gitlab.com/wegift/repo-s"}}

### Prod approval

POST https://wegift-clubhub.herokuapp.com/gitlab-webhook
Content-Type: application/json

{"object_kind":"merge_request","event_type":"merge_request","user":{"name":"Clubhouse Bot","username":"user-a","avatar_url":"https://assets.gitlab-static.net/uploads/-/system/user/avatar/1111111/avatar.png","email":"user-b@wegift.test"},"project":{"id":19326123,"name":"Test Repo","description":"","web_url":"https://gitlab.com/wegift/test-repo","avatar_url":null,"git_ssh_url":"git@gitlab.com:wegift/test-repo.git","git_http_url":"https://gitlab.com/wegift/test-repo.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/test-repo","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/test-repo","url":"git@gitlab.com:wegift/test-repo.git","ssh_url":"git@gitlab.com:wegift/test-repo.git","http_url":"https://gitlab.com/wegift/test-repo.git"},"object_attributes":{"assignee_id":null,"author_id":1111111,"created_at":"2020-06-11 16:17:37 UTC","description":"","head_pipeline_id":null,"id":61285123,"iid":2,"last_edited_at":null,"last_edited_by_id":null,"merge_commit_sha":null,"merge_error":null,"merge_params":{"force_remove_source_branch":"1"},"merge_status":"can_be_merged","merge_user_id":null,"merge_when_pipeline_succeeds":false,"milestone_id":null,"source_branch":"ch3984/test2","source_project_id":19326123,"state_id":1,"target_branch":"master","target_project_id":19326123,"time_estimate":0,"title":"Update test.txt","updated_at":"2020-06-11 16:18:39 UTC","updated_by_id":null,"url":"https://gitlab.com/wegift/test-repo/-/merge_requests/2","source":{"id":19326123,"name":"Test Repo","description":"","web_url":"https://gitlab.com/wegift/test-repo","avatar_url":null,"git_ssh_url":"git@gitlab.com:wegift/test-repo.git","git_http_url":"https://gitlab.com/wegift/test-repo.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/test-repo","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/test-repo","url":"git@gitlab.com:wegift/test-repo.git","ssh_url":"git@gitlab.com:wegift/test-repo.git","http_url":"https://gitlab.com/wegift/test-repo.git"},"target":{"id":19326123,"name":"Test Repo","description":"","web_url":"https://gitlab.com/wegift/test-repo","avatar_url":null,"git_ssh_url":"git@gitlab.com:wegift/test-repo.git","git_http_url":"https://gitlab.com/wegift/test-repo.git","namespace":"WeGift","visibility_level":0,"path_with_namespace":"wegift/test-repo","default_branch":"master","ci_config_path":"","homepage":"https://gitlab.com/wegift/test-repo","url":"git@gitlab.com:wegift/test-repo.git","ssh_url":"git@gitlab.com:wegift/test-repo.git","http_url":"https://gitlab.com/wegift/test-repo.git"},"last_commit":{"id":"23c082231d9e996655d415b592a643abd6e5ce84","message":"Update test.txt","title":"Update test.txt","timestamp":"2020-06-11T16:17:32+00:00","url":"https://gitlab.com/wegift/test-repo/-/commit/23c082231d9e996655d415b592a643abd6e5ce84","author":{"name":"user-a","email":"a@wegift.test"}},"work_in_progress":false,"total_time_spent":0,"human_total_time_spent":null,"human_time_estimate":null,"assignee_ids":[],"state":"opened","action":"approved"},"labels":[],"changes":{"updated_at":{"previous":"2020-06-11 16:17:37 UTC","current":"2020-06-11 16:18:39 UTC"},"total_time_spent":{"previous":null,"current":0}},"repository":{"name":"Test Repo","url":"git@gitlab.com:wegift/test-repo.git","description":"","homepage":"https://gitlab.com/wegift/test-repo"}}

